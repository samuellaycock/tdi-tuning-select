!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";n(1),n(2),n(3)},function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};document.querySelectorAll||(document.querySelectorAll=function(t){var e,n=document.createElement("style"),i=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=t+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)e=document._qsa.shift(),e.style.removeAttribute("x-qsa"),i.push(e);return document._qsa=null,i}),document.querySelector||(document.querySelector=function(t){var e=document.querySelectorAll(t);return e.length?e[0]:null}),window.JSON||(window.JSON={parse:function parse(sJSON){return eval("("+sJSON+")")},stringify:function(){var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)},n={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},i=function(t){return n[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},r=/[\\"\u0000-\u001F\u2028\u2029]/g;return function n(o){if(null==o)return"null";if("number"==typeof o)return isFinite(o)?o.toString():"null";if("boolean"==typeof o)return o.toString();if("object"===(void 0===o?"undefined":_typeof(o))){if("function"==typeof o.toJSON)return n(o.toJSON());if(e(o)){for(var a="[",s=0;s<o.length;s++)a+=(s?", ":"")+n(o[s]);return a+"]"}if("[object Object]"===t.call(o)){var c=[];for(var l in o)o.hasOwnProperty(l)&&c.push(n(l)+": "+n(o[l]));return"{"+c.join(", ")+"}"}}return'"'+o.toString().replace(r,i)+'"'}}()}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("function"!=typeof r&&("object"!==(void 0===r?"undefined":_typeof(r))||null===r))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in r)t.call(r,o)&&s.push(o);if(e)for(a=0;a<i;a++)t.call(r,n[a])&&s.push(n[a]);return s}}()),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,n;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),r=i.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=arguments[1]),n=0;n<r;){var o;n in i&&(o=i[n],t.call(e,o,n,i)),n++}}),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)}},function(t,e,n){"use strict";!function(t){function e(t,e){var n=document.createElement(t);return e&&(e.id&&(n.id=e.id),e.class&&(n.className+=" "+e.class),e.type&&(n.type=e.type),e.href&&(n.href=e.href),e.method&&(n.method=e.method),e.name&&(n.name=e.name),e.value&&(n.value=e.value),e.disabled&&(n.disabled=e.disabled),e.dataType&&(n.dataset.type=e.dataType),e.dataStage&&(n.dataset.stage=e.dataStage),e.dataIndex&&(n.dataset.index=e.dataIndex),e.dataValue&&(n.dataset.value=e.dataValue),e.innerHtml&&(n.innerHTML=e.innerHtml),e.appendTo&&e.appendTo.appendChild(n)),n}function n(t,e){if(t){"string"==typeof t?t=document.querySelectorAll(t):t.tagName&&(t=[t]);for(var n=0;n<t.length;n++)(" "+t[n].className+" ").indexOf(" "+e+" ")<0&&(t[n].className+=" "+e)}}function i(t,e){var n=new RegExp("(^| )"+e+"($| )","g");if(t){"string"==typeof t?t=document.querySelectorAll(t):t.tagName&&(t=[t]);for(var i=0;i<t.length;i++)t[i].className=t[i].className.replace(n," ")}}function r(t){this.el=t,this.currentStage=0,this.finalStage=0,this.currentSelection={},this.cache={},this.open=!1,this._init()}r.prototype._init=function(){var t=this._sendApiRequest(),n=t.data,i=[{id:"category"},{id:"manufacturer"},{id:"model"},{id:"fuel"},{id:"transmission"},{id:"variant"},{id:"product"}];this.form=e("form",{method:"get",appendTo:this.el}),this.proxy={},this.proxy.container=e("div",{class:"tdi-select-proxy",dataStage:0,appendTo:this.el}),this.proxy.list=e("ul",{class:"tdi-select-proxy-section-list",appendTo:this.proxy.container}),this.product=e("div",{class:"product-contain",appendTo:this.el}),e("i",{class:"icon-close product-contain-close-button",appendTo:this.product}),e("div",{class:"product-contain-content",appendTo:this.product}),this.stages=this._createSelects(i,this.form),this.proxy.stages=this._createSelectProxies(i,this.proxy.list),this.navigation=this._createNavigation(i,this.el),this.closeButton=e("i",{class:"icon-close tdi-select-close-button",appendTo:this.proxy.container});var r=this._createOptions(n,this.stages[1]),o=this._createOptionProxies(n,this.proxy.stages[1]);this.options={1:r},this.proxy.options={1:o},this._initEvents(),this._goToStage(1)},r.prototype._initEvents=function(){var t=this,e=this.stages,r=this.proxy.stages,o=this.product,a=(this.form,this.navigation),s=this.navButton,c=this.closeButton;s.addEventListener("click",function(){var e=t.currentStage,n=e-1;n>0&&t._goToStage(n)}),c.addEventListener("click",function(){t.open&&(t.open=!1,i(t.proxy.container,"open"))});for(var l in e)l<7&&e[l].addEventListener("change",function(){t._selectOption(this)});e[7].addEventListener("change",function(){t._selectProduct(this)}),r[1].firstChild.addEventListener("click",function(){t.active||(t.open=!0,n(t.proxy.container,"open"))});for(var l in a)a[l].addEventListener("click",function(){t._selectNavigation(this)});o.children[0].addEventListener("click",function(){i(t.el,"show-product")})},r.prototype._createSelects=function(t,n){for(var i={},r=0;r<t.length;r++){var o=e("select",{id:t[r].id+"-select",disabled:!0,dataType:t[r].id,dataStage:r+1,appendTo:n});i[r+1]=o||null}return i},r.prototype._createSelectProxies=function(t,n){for(var i={},r=0;r<t.length;r++){var o=e("li",{class:"tdi-select-proxy-section-item",dataStage:r+1,appendTo:n}),a=e("ul",{class:"tdi-select-proxy-section-item-list "+t[r].id,dataType:t[r].id.capitalize(),appendTo:o});i[r+1]=a||null}return i},r.prototype._createOptions=function(t,n){for(var i={},r=0;r<t.length;r++){var o=e("option",{id:t[r].id+"-option",innerHtml:t[r].text,value:t[r].id,appendTo:n});i[r+1]=o||null}return Object.keys(i).length&&(n.disabled=!1),i},r.prototype._createOptionProxies=function(t,r){var o=this,a={};e("li",{class:" tdi-select-proxy-section-item-list-title",innerHtml:r.dataset.type,appendTo:r});for(var s=0;s<t.length;s++){var c=e("li",{id:t[s].id+"-option-proxy",innerHtml:t[s].text,dataValue:t[s].id,appendTo:r});c.addEventListener("click",function(){var t=this.parentElement.parentElement,e=t.dataset.stage,a=this.dataset.value,s=r.querySelectorAll(".active"),c=o.stages[e],l=new Event("change");i(s,"active"),n(this,"active"),c.value=a,c.dispatchEvent(l)}),a[s+1]=c||null}return a},r.prototype._createNavigation=function(t,n){var i=e("ul",{class:"tdi-select-nav",appendTo:n}),r={};this.navButton=e("button",{id:"tdi-select-nav-back",class:"tdi-select-nav-back",innerHtml:"Back",appendTo:i});for(var o=0;o<t.length;o++){var a=e("li",{id:t[o].id+"-nav",class:"tdi-select-nav-item",appendTo:i}),s=e("input",{class:"tdi-select-nav-item-button",type:"radio",name:"tdi-select-nav",disabled:!0,dataIndex:o+1,appendTo:a});r[o+1]=s}return r},r.prototype._selectOption=function(t){var e=this.currentSelection,n=this.stages,i=this.options,r=this.proxy.stages,o=this.proxy.options,a=this.finalStage,s=this.navigation,c=t.value,l=(t.dataset.type,t.dataset.stage),d=Number(l)+1;if(e[l]=c,l<a){e[a]="000";for(var p in e)if(p>l){for(var u=n[p],h=r[p];u.children.length>0;)u.removeChild(u.children[0]);for(;h.children.length>0;)h.removeChild(h.children[0]);u.disabled=!0,s[p].disabled=!0,delete e[p],delete i[p],delete o[p]}this.finalStage=d}var f=this._sendApiRequest(),v=f.data;if(!("error"in f))var y=this._createOptions(v,n[d]),g=this._createOptionProxies(v,r[d]);i[d]=y,o[d]=g,l<8&&this._goToStage(d)},r.prototype._selectProduct=function(t){var e=this.currentSelection,n=t.dataset.stage,i=t.value;e[n]=i;var r=this._sendApiRequest(),o=r.data;"error"in r||this._showProductDetails(o)},r.prototype._selectNavigation=function(t){var e=t.dataset.index;this._goToStage(e)},r.prototype._showProductDetails=function(t){for(var i=this.el,r=(this.product,this.product.children[1]);r.children.length>0;)r.removeChild(r.children[0]);for(var o=(e("h1",{class:"product-name",innerHtml:t.name,appendTo:r}),e("ul",{class:"product-info",appendTo:r})),a=e("ul",{class:"product-harness-list",appendTo:o}),s=e("ul",{class:"product-engine-list",appendTo:o}),c=e("ul",{class:"product-instructions-list",appendTo:o}),l=0;l<t.harness.length;l++)e("li",{class:"product-harness-item",innerHtml:t.harness[l],appendTo:a});for(var l=0;l<t.engine.length;l++)for(var d in t.engine[l])if(null!==d){e("li",{class:"product-engine-title",innerHtml:d,appendTo:s});for(var p in t.engine[l][d]){var u=e("ul",{class:"product-engine-sublist",appendTo:s});e("li",{class:"product-engine-sublist-title",innerHtml:p,appendTo:u});for(var h in t.engine[l][d][p]){var f=e("ul",{class:"product-engine-sublist-sublist",appendTo:u});null!==t.engine[l][d][p][h]&&e("li",{class:"product-engine-sublist-item",innerHtml:h+": "+t.engine[l][d][p][h],appendTo:f})}}}for(var l=0;l<t.instructions.length;l++){var v=e("li",{class:"product-instructions-item",innerHtml:t.harness[l],appendTo:c});e("a",{class:"product-instructions-item-link",href:t.instructions[l],innerHTML:t.instructions[l],appendTo:v})}n(i,"show-product")},r.prototype._goToStage=function(t){var e=this.navigation,r=this.currentStage,o=this.finalStage,a=e[r],s=e[t];a&&(a.checked=!1,i(a,"active")),s.checked=!0,s.disabled=!1,n(s,"active"),t>o&&(this.finalStage=t),this.proxy.container.dataset.stage=t,this.currentStage=t},r.prototype._sendApiRequest=function(){var t=this,e=this.currentSelection,n="";if(n="https://tdi-tuning.com/productfinder/api/service/v1?api-key=95bb8488-a59a-4322-a670-73e2f7c16bd7",e&&(e[1]&&(n+="&category-id="+e[1]),e[2]&&(n+="&manufacturer-id="+e[2]),e[3]&&(n+="&model-id="+e[3]),e[4]&&(n+="&fuel-id="+e[4]),e[5]&&(n+="&transmission-id="+e[5]),e[6]&&(n+="&variant-id="+e[6]),e[7]&&(n+="&product-id="+e[7])),n in this.cache)return this.cache[n];var i=new XMLHttpRequest,r={};return i.onreadystatechange=function(){4===this.readyState&&200===this.status?(r.success=!0,r.data=JSON.parse(this.responseText),t.cache[n]=r):4===this.readyState&&200!==this.status&&(r.error=!0)},i.open("GET",n,!1),i.setRequestHeader("Access-Control-Allow-Origin","*"),i.send(),r},t.TDISelect=r}(window)},function(t,e){}]);